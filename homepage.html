<!DOCTYPE html>
<html>
  <head>
    <title>My Drawing App</title>
    <meta charset="UTF-8">
  </head>
  <body>
    <canvas id="canvas" width="500" height="500"></canvas>
    <input type="range" id="markerThickness" min="1" max="20" value="5">
    <label for="markerThickness">Marker Thickness</label>
    <button onclick="saveDrawing()">Save Drawing</button>
    
    <script>
      const canvas = document.getElementById("canvas");
      const context = canvas.getContext("2d");
      const markerThickness = document.getElementById("markerThickness");
      let isDrawing = false;

      canvas.addEventListener("mousedown", startDrawing);
      canvas.addEventListener("mousemove", draw);
      canvas.addEventListener("mouseup", stopDrawing);

      function startDrawing(event) {
        isDrawing = true;
        draw(event);
      }

      function draw(event) {
        if (!isDrawing) return;
        context.lineWidth = markerThickness.value;
        context.lineCap = "round";
        context.lineTo(event.clientX - canvas.offsetLeft, event.clientY - canvas.offsetTop);
        context.stroke();
        context.beginPath();
        context.moveTo(event.clientX - canvas.offsetLeft, event.clientY - canvas.offsetTop);
      }

      function stopDrawing() {
        isDrawing = false;
        context.beginPath();
      }

      function saveDrawing() {
        const image = canvas.toDataURL();
        const link = document.createElement("a");
        link.href = image;
        link.download = "my_drawing.png";
        link.click();
      }
    </script>
  </body>
</html>
